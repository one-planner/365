<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>회원가입</title>
</head>
<body>
<h1 align="center">회원가입</h1>
<br>
<div class="signup-area" align="center">
    <form method="post" th:action="@{/api/user}" th:object="${user}">
<!--    <form action="/api/create" method="post" th:action="@{/api/create}">-->
        <table>
            <tr>
                <td>이름</td>
                <td><input type="text" th:field="*{username}" required></td>
            </tr>
            <tr>
                <td>e-mail</td>
                <td><input type="email" th:field="*{email}" required></td>
                <td rowspan="1"><button style="height: 25px;">인증</button></td>
            </tr>
            <tr>
                <td>비밀번호</td>
                <td><input type="password" th:field="*{passwordHash}" required></td>
            </tr>
            <tr>
                <td>생년월일</td>
                <td><input type="text" th:field="*{birthday}" placeholder="ex. 1990-10-24"></td>
            </tr>
            <tr>
                <td>성별</td>
                <td>
                    남<input type="radio" th:field="*{gender}" value="Male">
                    여<input type="radio" th:field="*{gender}" value="Female">
                </td>
            </tr>
            <tr>
                <td>사용목적</td>
                <td>
                    <select th:field="*{purpose}">
                        <option value="Personal">개인용</option>
                        <option value="Academic">학업용</option>
                        <option value="Business">기업용</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td colspan="2"><button type="submit">가입하기</button></td>
            </tr>
        </table>
    </form>

    <script>
        // 회원가입 요청
        axios.post('/signup', userData)
            .then(response => {
                if (response.data.success) {
                    window.location.href = '/login'; // 로그인 페이지로 리다이렉트
                }
            });

    </script>
</div>
</body>
</html>
